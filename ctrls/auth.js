var _0x35d10b=_0x22ac;(function(_0xd0632,_0x522bf6){var _0x5a0929=_0x22ac,_0x564f08=_0xd0632();while(!![]){try{var _0x9ff415=-parseInt(_0x5a0929(0x1f4))/0x1+-parseInt(_0x5a0929(0x214))/0x2+parseInt(_0x5a0929(0x1fb))/0x3+parseInt(_0x5a0929(0x1e5))/0x4*(parseInt(_0x5a0929(0x1f1))/0x5)+-parseInt(_0x5a0929(0x215))/0x6*(-parseInt(_0x5a0929(0x1e1))/0x7)+-parseInt(_0x5a0929(0x1d7))/0x8+parseInt(_0x5a0929(0x202))/0x9;if(_0x9ff415===_0x522bf6)break;else _0x564f08['push'](_0x564f08['shift']());}catch(_0x2f374e){_0x564f08['push'](_0x564f08['shift']());}}}(_0x1e55,0xe0dcf));var async=require('async'),utils=require(_0x35d10b(0x207)),token=require(_0x35d10b(0x20e)),errFactory=require(_0x35d10b(0x1ea)),resultData=require(_0x35d10b(0x1f6)),configModule=require(_0x35d10b(0x1e2)),userModule=require(_0x35d10b(0x1f8));function _0x1e55(){var _0x4bf2f4=['../modules/user','conflictError','signup','691197UfLSIw','render','have`t\x20info','getAppInfo','redirect','password','id_token','16525269HszinW','md5','loginHandler','username','enabled','../libs/utils','sign','name','getUser','push','code','managers','../libs/token','wList','cookie','/login','signupHandler','json','2574140HCRrqE','1458FQGBlL','have`t\x20host','test','getGGIPS','getLogoutViewHandler','promotionHandler','waterfall','7706904EJtSmm','receiveJSON','versionHandler','resultSuccess','unauthorized','getLoginViewHandler','addUser','getUsers','promotion_codes','resultDatas','12747QNTRni','../modules/config','_remoteAddress','resultF','16vwZHBr','stringify','cdc_id_token','query','desc','../libs/err_factory','length','isAPPIP','is_admin','checkParams','tempWIPS','parse','970745tzKDNJ','getSignupViewHandler','substring','114167WDmrae','isCommonWIP','../libs/resData','saveGGIPS'];_0x1e55=function(){return _0x4bf2f4;};return _0x1e55();}const {isNull}=require(_0x35d10b(0x207));function _0x22ac(_0x1a9d3e,_0x3bdaa4){var _0x1e5584=_0x1e55();return _0x22ac=function(_0x22ac83,_0x288879){_0x22ac83=_0x22ac83-0x1d6;var _0x32e74f=_0x1e5584[_0x22ac83];return _0x32e74f;},_0x22ac(_0x1a9d3e,_0x3bdaa4);}var users=userModule[_0x35d10b(0x1de)]();let BlackIpCode=0x3eb;exports[_0x35d10b(0x1f2)]=function(_0x3560e6,_0x3acd73){var _0x58ed6f=_0x35d10b;_0x3acd73[_0x58ed6f(0x1fc)](_0x58ed6f(0x1fa));},exports[_0x35d10b(0x1dc)]=function(_0x533a34,_0x19123f){_0x19123f['render']('login');},exports[_0x35d10b(0x219)]=function(_0x130600,_0x5e7df8){var _0x2b09a4=_0x35d10b;_0x5e7df8['clearCookie'](_0x2b09a4(0x1e7)),_0x5e7df8[_0x2b09a4(0x1ff)](_0x2b09a4(0x211));},exports[_0x35d10b(0x212)]=function(_0x23530e,_0x2d3d8e,_0x2e4608){var _0x1a21e2=_0x35d10b,_0x58941a,_0x32c70c=users[_0x1a21e2(0x1eb)]===0x0;async['waterfall']([function(_0x4a1063){var _0x843cf8=_0x1a21e2;utils[_0x843cf8(0x1d8)](_0x23530e,_0x4a1063);},function(_0x2b899a,_0x7998d9){var _0x2680e6=_0x1a21e2;_0x58941a=_0x2b899a;var _0x57d7dc=_0x2b899a['username']||'',_0x4d8701=_0x2b899a['password'];utils['checkParams']([_0x57d7dc,_0x4d8701,/^\w+$/[_0x2680e6(0x217)](_0x57d7dc)],_0x7998d9);},function(_0x174df7){checkConflict(_0x58941a['username'],_0x174df7);},function(_0x4d1594){var _0x592f47=_0x1a21e2;_0x32c70c?(_0x58941a[_0x592f47(0x206)]=!![],_0x58941a[_0x592f47(0x1ed)]=!![]):(_0x58941a[_0x592f47(0x206)]=![],_0x58941a['is_admin']=![]),_0x58941a['password']=token['md5'](_0x58941a[_0x592f47(0x200)]),userModule[_0x592f47(0x1dd)](_0x58941a,_0x4d1594);},function(_0x177af3){var _0x320302=_0x1a21e2;token[_0x320302(0x208)]({'username':_0x58941a['username']},_0x177af3);}],function(_0xa96055,_0x114868){var _0x2258e4=_0x1a21e2;_0xa96055?_0x2e4608(_0xa96055):(_0x32c70c&&_0x2d3d8e['cookie'](_0x2258e4(0x1e7),_0x114868[_0x2258e4(0x201)]),_0x2d3d8e[_0x2258e4(0x213)]({'data':'ok'}));});},exports[_0x35d10b(0x204)]=function(_0x3f52ad,_0x5802ca,_0x3446e2){var _0x3aedaf=_0x35d10b;async[_0x3aedaf(0x1d6)]([function(_0x1192e2){var _0x5edb00=_0x3aedaf;utils[_0x5edb00(0x1d8)](_0x3f52ad,_0x1192e2);},function(_0x3aac53,_0x35537b){var _0x186822=_0x3aedaf;username=_0x3aac53[_0x186822(0x205)],password=_0x3aac53[_0x186822(0x200)],utils[_0x186822(0x1ee)]([username,password],_0x35537b);},function(_0x5a1d92){var _0x480838=_0x3aedaf,_0x181baf=userModule['getUser'](username);_0x181baf&&_0x181baf['password']===token[_0x480838(0x203)](password)&&_0x181baf[_0x480838(0x206)]?_0x5a1d92():_0x5a1d92(errFactory[_0x480838(0x1db)]('Incorrect\x20username\x20or\x20password'));},function(_0x4810e5){token['sign']({'username':username},_0x4810e5);}],function(_0x1ed467,_0x427fa9){var _0x583c4b=_0x3aedaf;_0x1ed467?_0x3446e2(_0x1ed467):(_0x5802ca[_0x583c4b(0x210)](_0x583c4b(0x1e7),_0x427fa9[_0x583c4b(0x201)]),_0x5802ca[_0x583c4b(0x213)]({'data':_0x427fa9}));});},exports[_0x35d10b(0x21a)]=function(_0xf9cbf2,_0x359950,_0x3083bf){var _0x452965=_0x35d10b,_0x45e0c4=_0xf9cbf2[_0x452965(0x1e3)],_0x25bc72=_0xf9cbf2[_0x452965(0x1e8)][_0x452965(0x20c)],_0x1a1efb=_0xf9cbf2[_0x452965(0x1e8)][_0x452965(0x209)];_0x45e0c4!==null&&_0x45e0c4[_0x452965(0x1eb)]>0x7&&!isNull(_0x25bc72)&&!isNull(_0x1a1efb)?async[_0x452965(0x1d6)]([function(_0x56b246){var _0xe7a5d=_0x452965,_0x2a1536=_0x45e0c4[_0xe7a5d(0x1f3)](0x7),_0x5b302d=configModule[_0xe7a5d(0x1fe)](_0x1a1efb);let _0x2bbc04=_0x5b302d[_0xe7a5d(0x1df)];if(!isNull(_0x2bbc04)&&_0x2bbc04!==''){let _0x4fc0de=_0x2bbc04['split'](',');for(let _0x3594ce=0x0;_0x3594ce<_0x4fc0de[_0xe7a5d(0x1eb)];_0x3594ce++){if(_0x4fc0de[_0x3594ce]===_0x25bc72){var _0x413e1c=_0x5b302d[_0xe7a5d(0x1ef)];if(isNull(_0x413e1c))_0x413e1c=Array(),_0x413e1c[_0xe7a5d(0x20b)](_0x2a1536);else{let _0x367c84=_0x413e1c['filter'](function(_0x2927bb){return _0x2a1536===_0x2927bb;})[0x0];isNull(_0x367c84)&&_0x413e1c[_0xe7a5d(0x20b)](_0x2a1536);}_0x5b302d[_0xe7a5d(0x1ef)]=_0x413e1c,configModule['updateAppInfo'](_0x5b302d[_0xe7a5d(0x209)],_0x5b302d,_0x56b246),_0x359950[_0xe7a5d(0x213)](resultData[_0xe7a5d(0x1da)]());return;}}}_0x359950['json'](resultData['resultF']());}],function(_0x2a3488,_0x59d3ee){var _0x32b1d0=_0x452965;_0x2a3488?_0x359950[_0x32b1d0(0x213)](resultData[_0x32b1d0(0x1e4)](-0x1,_0x2a3488[_0x32b1d0(0x1e9)])):_0x359950[_0x32b1d0(0x213)](resultData[_0x32b1d0(0x1e4)]());}):_0x359950[_0x452965(0x213)](resultData[_0x452965(0x1e4)](-0x1,_0x452965(0x216)));},exports[_0x35d10b(0x1d9)]=function(_0x251d42,_0x397b5a,_0x8ca95b){var _0x234305=_0x35d10b,_0x3dfd6b=_0x251d42['_remoteAddress'],_0x515601;_0x3dfd6b!==null&&_0x3dfd6b[_0x234305(0x1eb)]>0x7&&_0x515601!==null?async[_0x234305(0x1d6)]([function(_0x4da8ad){var _0x236243=_0x234305;utils[_0x236243(0x1d8)](_0x251d42,_0x4da8ad);},function(_0x1b4154,_0x5612a4){_0x515601=_0x1b4154['name'],utils['checkParams']([_0x515601],_0x5612a4);},function(_0x2fae0f){var _0x141fce=_0x234305,_0x49f0d3=_0x3dfd6b[_0x141fce(0x1f3)](0x7);let _0x46ee81=configModule[_0x141fce(0x1fe)](_0x515601);var _0x3335ca=_0x46ee81['tempWIPS'];let _0x15efb9;!isNull(_0x3335ca)&&(_0x15efb9=_0x3335ca['filter'](function(_0x134c4b){return _0x49f0d3===_0x134c4b;})[0x0]);if(utils['isNull'](_0x46ee81))_0x397b5a[_0x141fce(0x213)](resultData[_0x141fce(0x1e4)](-0x1,_0x141fce(0x1fd)));else{if(!isNull(_0x15efb9)||configModule[_0x141fce(0x1f5)](_0x49f0d3)||configModule[_0x141fce(0x1ec)](_0x49f0d3,_0x515601,!![])){var _0x215ee1=JSON[_0x141fce(0x1f0)](JSON[_0x141fce(0x1e6)](_0x46ee81));_0x215ee1[_0x141fce(0x20f)]=undefined,_0x215ee1['bList']=undefined,_0x215ee1['managers']=undefined,_0x397b5a[_0x141fce(0x213)](resultData[_0x141fce(0x1e0)](_0x215ee1));}else{if(configModule['isGGIP'](_0x49f0d3))_0x397b5a[_0x141fce(0x213)](resultData[_0x141fce(0x1e4)](BlackIpCode));else{if(configModule[_0x141fce(0x1ec)](_0x49f0d3,_0x515601,![]))_0x397b5a[_0x141fce(0x213)](resultData['resultF'](BlackIpCode));else{if(_0x46ee81['isA']===![]){var _0x215ee1=JSON[_0x141fce(0x1f0)](JSON[_0x141fce(0x1e6)](_0x46ee81));_0x215ee1['wList']=undefined,_0x215ee1['bList']=undefined,_0x215ee1[_0x141fce(0x20d)]=undefined,_0x397b5a[_0x141fce(0x213)](resultData['resultDatas'](_0x215ee1));}else{var _0x2b4f7c=configModule[_0x141fce(0x218)]();_0x2b4f7c[_0x141fce(0x20b)](_0x49f0d3),configModule[_0x141fce(0x1f7)](_0x2b4f7c,_0x2fae0f);}}}}}}],function(_0x4a866f,_0xd23f1){var _0x785788=_0x234305;_0x4a866f?_0x397b5a['json'](resultData['resultF'](-0x1,_0x4a866f[_0x785788(0x1e9)])):_0x397b5a['json'](resultData[_0x785788(0x1e4)]());}):_0x397b5a[_0x234305(0x213)](resultData[_0x234305(0x1e4)](-0x1,'have`t\x20host'));};function checkConflict(_0x57113b,_0x1eecf1){var _0x588346=_0x35d10b,_0x591f71=userModule[_0x588346(0x20a)](_0x57113b);_0x591f71?_0x1eecf1(errFactory[_0x588346(0x1f9)]('User\x20`'+_0x57113b+'`\x20is\x20already\x20exists.')):_0x1eecf1();}